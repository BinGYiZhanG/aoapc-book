
先建目录
```cpp
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <vector>
#include <stack>
#include <cstring>
using namespace std;

vector<int> G[110];
int color[110];
int d[110];///记录顶点的发现时刻，
int f[110];///记录顶点的结束时刻
///白色 WHITE 未访问过的顶点     0
///深灰
///灰色 GRAY 访问过的顶点       1
///黑色 BLACK 访问结束的顶点     2
int time;///记录访问次数
int n;

int next_(int u){
    for(int i=0;i<G[u].size();i++){
        int v=G[u][i];
        return v;
    }
    return -1;
}

void DFS_visit(int u){
    stack<int> s;
    s.push(u);
    color[u]=1;
    d[u]=++time;

    while(!s.empty()){
        int st=s.top();
        int v=next_(st);

        if(v!=-1){
            if(color[v]==0){///顶点v未访问过
                color[v]=1;
                d[v]=++time;
                s.push(v);
            }
        }else{
            s.pop();
            color[st]=2;
            f[st]=++time;
        }
        /*
        s.pop();
        for(int i=0;i<G[st].size();i++){
            int v=G[st][i];///获取与u相邻的顶点
            if(color[v]==0){///顶点v未访问过
                color[v]=1;
                d[v]=++time;
                s.push(v);
            }
        }
        */
    }
}

void DFS(){
    memset(color,0,sizeof(color));
    memset(d,0,sizeof(d));
    memset(f,0,sizeof(f));
    time=0;

    for(int u=1;u<=n;u++)
        if(color[u]==0)
            DFS_visit(u);

    for(int i=1;i<=n;i++){
        printf("%d %d %d\n",i,d[i],f[i]);
    }

}

int main(){

    scanf("%d",&n);
    for(int i=0;i<n;i++){
        int u,k;
        scanf("%d%d",&u,&k);
        for(int j=0;j<k;j++){
            int v;
            scanf("%d",&v);
            G[u].push_back(v);
        }
    }
    DFS();
    return 0;
}




```
